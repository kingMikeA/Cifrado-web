<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cifrado - César y Vigenère</title>
    <!-- 1. Estilos personalizados --><link rel="stylesheet" href="style.css">
    
    <!-- 2. Incluir Tailwind CSS para clases de utilidad --><script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 3. Fuentes --><link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Electrolize&display=swap" rel="stylesheet">
</head>
<body class="p-4 md:p-8">

    <div class="main-console mx-auto mt-8 mb-8">
        <h1 class="text-4xl font-extrabold mb-2 text-center console-title">
            Cifrado César y Vigenère
        </h1>
        <p class="text-xs text-center mb-10 text-gray-400">
            Consola de Cifrado
        </p>

        <!-- Controles de Entrada --><div id="controles" class="space-y-6">
            
            <!-- TIPO DE CIFRADO Y ACCIÓN --><div class="flex flex-col md:flex-row md:space-x-8 space-y-6 md:space-y-0 pb-6 border-b border-gray-700/50">
                
                <!-- Tipo de Cifrado --><div class="w-full md:w-1/2">
                    <label class="block text-sm font-medium mb-3 text-white uppercase tracking-wider">TIPO DE CIFRADO</label>
                    <div id="cifradoContainer" class="flex space-x-6">
                        <label class="flex items-center text-lg">
                            <input type="radio" name="cifrado" value="cesar" checked class="form-radio h-5 w-5 border-red-500 focus:ring-red-500" onchange="toggleUIMode()">
                            <span class="ml-2">César </span>
                        </label>
                        <label class="flex items-center text-lg">
                            <input type="radio" name="cifrado" value="vigenere" class="form-radio h-5 w-5 border-red-500 focus:ring-red-500" onchange="toggleUIMode()">
                            <span class="ml-2">Vigenère </span>
                        </label>
                    </div>
                </div>

                <!-- Selector de Acción --><div class="w-full md:w-1/2">
                    <label class="block text-sm font-medium mb-3 text-white uppercase tracking-wider">ACCIÓN A EJECUTAR</label>
                    <div id="modoContainer" class="flex space-x-6">
                        <label class="flex items-center text-lg">
                            <input type="radio" name="modo" value="cifrar" checked class="form-radio h-5 w-5 border-red-500 focus:ring-red-500" onchange="toggleUIMode()">
                            <span class="ml-2">CIFRAR </span>
                        </label>
                        <label class="flex items-center text-lg">
                            <input type="radio" name="modo" value="descifrar" class="form-radio h-5 w-5 border-red-500 focus:ring-red-500" onchange="toggleUIMode()">
                            <span class="ml-2">DESCIFRAR </span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- ENTRADA DE TEXTO --><div id="entradaContainer" class="pt-6">
                <label for="textoEntrada" class="block text-sm font-medium mb-2 text-white uppercase tracking-wider">TEXTO DE ENTRADA</label>
                <textarea id="textoEntrada" rows="4" class="w-full p-4 rounded-lg console-input focus:ring-0 text-cyan-200" placeholder="Escribe tu mensaje aquí..."></textarea>
            </div>

            <!-- ENTRADA DE CLAVE --><div>
                <label id="claveLabel" for="claveInput" class="block text-sm font-medium mb-2 text-white uppercase tracking-wider">CLAVE: SOLO NÚMEROS ENTEROS </label>
                <input type="text" id="claveInput" class="w-full p-4 rounded-lg console-input focus:ring-0 text-cyan-200" placeholder="Clave numérica para César (Rango: 0-25)" data-ultima-clave="" data-ultimo-cifrado="">
            </div>

            <!-- BOTONES DE ACCIÓN --><div class="flex justify-between items-center pt-8">
                <button id="ejecutarBtn" onclick="ejecutarCifrado()" class="text-lg font-bold py-3 px-12 rounded-lg btn-neon-execute w-3/4 mr-4">
                    CIFRAR
                </button>
                <button id="limpiarBtn" onclick="limpiarTodo()" class="text-lg font-bold py-3 px-6 rounded-lg btn-neon-delete w-1/4">
                    ELIMINAR
                </button>
            </div>
            
            <!-- Botón de Descarga (Oculto por defecto) --><div class="text-center pt-4">
                <button id="descargarBtn" onclick="descargarTablaCSV()" class="hidden text-sm font-bold py-2 px-6 rounded-full shadow-lg btn-neon-download">
                    Descargar Pasos Detallados (.CSV)
                </button>
            </div>
            
            <!-- CONSOLA DE RESULTADO --><div id="resultadoContainer" class="p-4 mt-6 rounded-lg hidden text-sm">
                <p id="resultadoMensaje" class="font-semibold text-white"></p>
                <div id="resultadoOutput" class="text-xl mt-2 font-mono text-cyan-200" style="text-shadow: 0 0 5px #00ffff;"></div>
            </div>
            
        </div>

        <!-- Tabla de Pasos Detallados --><div id="tablaContainer" class="mt-10">
            <!-- La tabla generada se insertará aquí --></div>

    </div>

    <!-- 4. Script de la aplicación --><script src="app.js"></script>

    <!-- FIRMA PERSONALIZADA ESTILO TARJETA (MIGUEL ANGEL ARIAS) - AJUSTADA --><div class="fixed bottom-2 right-2 z-50"> <!-- Ajuste de 'bottom' y 'right' para acercarlo a la esquina --><div class="bg-slate-900/95 border border-slate-700/50 rounded-lg p-3 shadow-xl backdrop-blur-sm"> <!-- 'rounded-lg' y 'p-3' para hacerlo más compacto --><div class="text-right font-mono">
                <p class="text-slate-400 text-[10px] leading-tight"> <!-- Texto más pequeño y 'leading-tight' para espacio entre líneas -->&copy; 2025 Consola de Cifrado | Desarrollado por
                </p>
                <p class="text-slate-200 text-sm font-bold mt-0.5 tracking-wide"> <!-- 'text-sm' y 'mt-0.5' para compacto -->Miguel Angel Arias
                </p>
                <p class="text-slate-600 text-[8px] uppercase tracking-widest font-semibold mt-0.5"> <!-- Texto aún más pequeño y 'mt-0.5' -->Proyecto Académico de Criptografía.
                </p>
            </div>
        </div>
    </div>
    <!-- FIN DE FIRMA --></body>
</html>